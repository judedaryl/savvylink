<div class="org_stack_1">
  <div class="ui container" style="padding-top:50px">
    <div class="ui grid center aligned">
      <div class="row">
        <div class="one wide column"></div>
        <div class="fourteen wide column">
          <div class="ui grid stackable">
            <div class="row">
              <div class="sixteen wide column equal height">
                <div class="ui segments" style="border: none !important; box-shadow: none !important">
                  <div class="ui segment block" style="height:300px" style="background: transparent !important; border: none !important;">
                    <h1 class="alt-h0 text-white lh-condensed-ultra mb-3">
                      {{org['name']}}
                    </h1>
                    <p class="alt-lead mb-4 text-white">
                      {{org['province']}} {{org['country']}} </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="one wide column"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="ui container" style="margin-top:50px; margin-bottom:50px">
  <div class="ui stackable grid">
    <div class="row">
      <div class="one wide column"></div>
      <div class="fourteen wide column">
        <div class="ui grid stackable">
          <div class="row">
            <div class="four wide column">
              <div class="ui vertical buttons width-full">
                  <a class="ui teal right labeled icon button width-full" routerLink="/organizations">
                    View organizations
                    <i class="grid layout icon"></i>
                  </a>
                  <a class="ui blue right labeled icon button width-full" (click)="contribute(org._id, org.name)">
                   Contribute
                    <i class="check square icon"></i>
                  </a>
                  <a class="ui yellow right labeled icon button width-full" (click)="printpdf()">
                    Print
                    <i class="print icon"></i>
                  </a>
              </div>
              <div class="ui segment width-full">
                <div class="ui items">
                  <div class="item" *ngIf="org['type'] !== 'null'">
                    <div class="content">
                      <span class="header">Type</span>
                      <div class="meta">
                        <span>{{org['type']}}</span>
                      </div>
                    </div>
                  </div>
                  <div class="item" *ngIf="org['address_1'] !== 'null'">
                    <div class="content">
                      <span class="header">Address</span>
                      <div class="meta">
                        <span>{{org['address_1']}} {{org['address_2']}}</span>
                      </div>
                    </div>
                  </div>
                  <div class="item">
                    <div class="content">
                      <span class="header">City</span>
                      <div class="meta">
                        <span>{{org['city']}}</span>
                      </div>
                    </div>
                  </div>
                  <div class="item">
                    <div class="content">
                      <span class="header">Province</span>
                      <div class="meta">
                        <span>{{org['province']}}</span>
                      </div>
                    </div>
                  </div>
                  <div class="item">
                    <div class="content">
                      <span class="header">Country</span>
                      <div class="meta">
                        <span>{{org['country']}}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="ui segment width-full">
                <div class="ui items">
                  <div class="item">
                    <div class="content">
                      <span class="header">Contributors</span>
                      <div class="meta">
                        <div class="ui list">
                          <div class="item" *ngFor="let contributor of org['contributors']">
                            <div class="content">
                              <a class="header" href="/contributions/{{contributor['username']}}">{{contributor['displayname']}}</a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="twelve wide column equal height contacts_grid">
              <table class="ui celled table" datatable [dtTrigger]="dtTrigger" [dtOptions]="dtOptions">
                <thead>
                  <tr>
                    <th>Position</th>
                    <th>Name</th>
                    <th>Contributor</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let con of contacts">
                    <td>
                      {{con.position}}
                    </td>
                    <td>
                      <span *ngIf="con.name !== 'null'">{{con.name}}</span>
                    </td>
                    <td>
                      <a href="/contributions/{{con['user']['username']}}">{{con['user']['displayname']}}</a>
                    </td>
                  </tr>

                </tbody>
              </table>
              <div class="ui dimmer">
                <div class="ui text loader">Grabbing some bytes.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="one wide column"></div>
    </div>
  </div>
</div>

<div class="ui basic tiny modal" id="contributeModal">
    <div class="ui icon header">
      <i class="check square icon"></i>
      Manage Contributions
    </div>
    <div class="content center aligned middle aligned">
      <p>You have been added to the
        <b>contributor</b> list of
        <b>{{contribution['org_name']}}</b>.</p>
      <p>Would like to manage your contributions?</p>
    </div>
    <div class="actions">
      <div class="ui red basic cancel inverted button">
        <i class="remove icon"></i>
        No
      </div>
      <a class="ui green inverted button" href="/contributions/{{user['username']}}/organizations/{{contribution['org_id']}}">
        <i class="checkmark icon"></i>
        Yes
      </a>
    </div>
  </div>
  
  <div class="ui basic tiny modal" id="contributeModal_fail">
    <div class="ui icon header">
      <i class="check square icon"></i>
      Manage Contributions
    </div>
    <div class="content center aligned middle aligned">
      <p>You are already a
        <b>contributor</b> of
        <b>{{contribution['org_name']}}</b>.</p>
      <p>Would like to manage your contributions?</p>
    </div>
    <div class="actions">
      <div class="ui red basic cancel inverted button">
        <i class="remove icon"></i>
        No
      </div>
      <a class="ui green inverted button" href="/contributions/{{user['username']}}/organizations/{{contribution['org_id']}}">
        <i class="checkmark icon"></i>
        Yes
      </a>
    </div>
  </div>